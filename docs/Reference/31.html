<!DOCTYPE html>
<html lang="ja">
    <head>
        <meta charset="utf-8">
        <title>ステージエディター|リファレンス</title>
        <link rel="stylesheet" href="../css/ReferenceStyle.css">
    </head>
    <body>
        <header>
            <h1>ステージエディター</h1>
        </header>
        <main>
            <h1>概要説明</h1>   
            <!-- 概要説明 -->
            <div id = OverView>
                <h2>1:ステージエディターを作成した理由</h2>
                <p>今回の制作では、複数のステージを効率的に作成しなければならなかっため、ステージエディターを作成するようになりました。<br>
                しかし、一から3Dゲーム用マップエディタを作成するのは、開発期間と工数の関係上現実的ではなかったため、UnityEditorを拡張することでステージエディターを作成する運びとなりました。<br>
                ステージエディターの仕様としては、まずUnity側でステージ配置・アクション設定・イベント設定・その他付随する設定等を行い、それをXML形式で書き出してゲームデータ側では、出力されたXMLファイルを読込それに基づいて、配置・イベント等の設定を行います。そうすることによって、Unity側で作ったステージをそのままゲームステージとして使えるため、大幅な作業コストの削減を実現する事ができます。
                </p>

                <h2>2:仕様</h2>
                <div class="Specification">
                    <h3>①パラメータ設定</h3>
                    <h4>1,基本設定</h4>
                    <img src="../img/StageEditorParam.png" alt="パラメータ設定画像">
                    <p>
                        ここでは、配置データの他に追加で読み込む必要があるデータをセットします。<br>
                    </p>
                    <dl class = "ParamBox">
                        <dt><strong>・基本設定値</strong></dt>
                        <dd>
                            <dl>
                                <dt>生成順序</dt>
                                <dd>Early・Default・Lateの三つから生成順序を設定する。設定した順序に応じてGame側では、生成される。</dd>
                                <dt>クラスタイプ</dt>
                                <dd>Game側でのクラス識別に使用される。識別登録をGame側でもしなければいけない。</dd>
                                <dt>メッシュキー</dt>
                                <dd>Game側で登録されているメッシュキーを設定する。登録されてないキーを指定すると実行時エラーが発生する。</dd>
                                <dt>テクスチャキー</dt>
                                <dd>Game側で登録されているテクスチャキーを設定する。登録されていないキーを設定すると白い状態で描画される。</dd>
                                <dt>タグ情報</dt>
                                <dd>Game側での、オブジェクトの識別タグとして使用する。複数指定ができるので、オブジェクト同士の共通処理等に使用できる。</dd>
                            </dl>
                        </dd>
                        <dt><strong>・物理設定</strong></dt>
                        <dd>
                            <dl>
                                <dt>物理設定を有効にする</dt>
                                <dd>コリジョンを有効にする。無効化すると、当たり判定がなくなるため、オブジェクトがすり抜ける。</dd>
                                <dt>固定オブジェクト化</dt>
                                <dd>オブジェクトの当たり判定を固定化にする、固定化するとそのオブジェクトの衝突応答が呼ばれなくなる。</dd>
                            </dl>
                        </dd>
                        <dt><strong>・共有設定</strong></dt>
                        <dd>
                            <dl>
                                <dt>書き出し有効</dt>
                                <dd>常に追従する必要のあるプレイヤーやゴールなどをアクセスしやすいように、共有領域に保存を有効にする。</dd>
                                <dt>共有キー</dt>
                                <dd>共有設定が有効の時に、ここで指定した、共有キーでオブジェクトを共有領域に保存する。もしオブジェクトを共有領域から参照する場合は、ここで登録した共有キーを用いて共有領域から参照する。</dd>
                            </dl>
                        </dd>
                        <dt><strong>・イベント設定</strong></dt>
                        <dd>
                            <dl>
                                <dt>イベント受信可能</dt>
                                <dd>スイッチイベント等を受け取る場合、この設定を有効にする。</dd>
                                <dt>イベント受信キー</dt>
                                <dd>受信可能の場合、ここで指定した受信キーでイベントレシーバー登録される。スイッチ側では、ここで指定した受信キーをイベント送信先に設定された場合、イベントが発生した時にオブジェクトイベントが送信される。</dd>
                            </dl>
                        </dd>
                    </dl>
                    <h4>2,アクション設定</h4>
                    <img src="../img/Actions.png" alt="パラメータ設定画像">
                    <dl class = "ParamBox">
                        <dt><strong>再生タイミング</strong></dt>
                        <dd>Start・OnEvent・Endの三項目から設定する。Start・Endに設定すると、Game開始時と終了時に呼ばれるアクションを指定できる。OnEventに設定すると、スイッチ等のイベント時に呼ばれるアクションを設定できる。</dd>
                        <dt><strong>「Position・Rotation・Scale」タブ</strong></dt>
                        <dd>このタブで選択している項目のアクションを、アクション追加ボタンを押すと追加される。</dd>
                        <dt><strong>書き出し対象に追加</strong></dt>
                        <dd>この設定が有効状態になっていると、書き出されるマップデータに対象のアクションデータが含まれる。</dd>
                        <dt><strong>ループ設定を有効</strong></dt>
                        <dd>この設定が有効状態になっていると、呼ばれたアクションがループされるようになる。</dd>
                        <dt><strong>フレーム最大値</strong></dt>
                        <dd>各アクションのフレーム数の最大値を設定する。</dd>
                        <dt><strong>追加・削除・全削除ボタン</strong></dt>
                        <dd>タブで設定したアクションを、追加・削除を行います。全削除だと登録したアクションを全て削除され、削除だと直近で登録したアクションが削除されます。</dd>
                        <dt><strong>アクションデータリスト</strong></dt>
                        <dd>追加したアクションはこのリストで表示される。リスト要素には、移動フレーム数・Value（移動値）がありこの項目を調整してアクションを設定する。移動フレーム数は、フレーム最大値より多くならないため0～フレーム最大値の間で移動フレーム数を設定する。</dd>
                        <dt><strong>アクションテスト機能</strong></dt>
                        <dd>Unityのゲームシーンを再生状態にすると、新たに再生ボタンが表示される。ボタンの種類は、再生・全再生・ReSetの三項目で、再生を押すとタブで対象となったアクションを再生し、全再生を押すと全て複合されたアクションが再生される、Resetを押すと初期状態に戻すことができる。</dd>
                    </dl>
                </div>
                <div class="Specification">
                    <h3>②書き出し設定</h3>
                    <img src="../img/SaveDialog.png" alt="書き出し設定画像">
                    <p>

                    </p>
                    <dl class ="ParamBox">
                        <dt><strong>・設定</strong></dt>
                        <dd>
                            <dl>
                                <dt>エリア設定</dt>
                                <dd>書き出しエリア設定</dd>
                                <dt>ステージ設定</dt>
                                <dd></dd>
                                <dt>新規作成</dt>
                                <dd></dd>
                                <dt>ステージリロード設定</dt>
                                <dd></dd>
                            </dl>
                        </dd>
                        <dt>パス情報</dt>
                        <dd></dd>
                        <dt>ファイル名</dt>
                        <dd></dd>
                    </dl>
                </div>
                <div class="Specification">
                    <h3>③読込結果</h3>
                    <div class = "flex">
                        <img id="UnityStageImg" src="../img/UnityStage1.png" alt="Unity配置ゲームステージ">
                        <h4 id ="RightArrow">→</h4>
                        <img id ="GameStageImg" src="../img/UnityStage1.png" alt="ゲームデータ出力ステージ">
                    </div>

                    <!-- 説明 -->
                    <p>
                        
                    </p>
                </div>
            </div>
        </main>
        <footer>
            <a href="index.html">目次へ</a>
        </footer>
    </body>
</html>